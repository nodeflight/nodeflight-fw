# Debug output

per uart_st uart3 pin_d08 pin_none dma_1_3 dma_none
mod - stdout uart_st

# Management

per usb usb_vcp
mod - nfcp usb

# CS = pin_a15
per spi_sd spi1 pin_a05 pin_a07 pin_a06 dma_none dma_none

# CS = pin_a04
per spi_test spi1 pin_b03 pin_b05 pin_b04 dma_none dma_none

mod - sdcard_spi spi_test

# Clocking

sch @hs 4
sch @ls 3

per tmsch tim7_ch1 pin_none dma_none
mod - sch_timer tmsch @hs 8000
mod - sch_decim @hs @ls 2 4000

# IO definitions

per uart_fport uart2 pin_none pin_d06 dma_none dma_1_5

per pwm1 tim2_ch1 pin_a00 dma_none
per pwm2 tim3_ch3 pin_b00 dma_none
per pwm3 tim3_ch4 pin_b01 dma_none

# Connections

mod rc_rx fport uart_fport -

mod sig1 int_f @ls rc_rx.0
mod sig2 mul_f @ls rc_rx.1 rc_rx.2 
mod sig3 neg_f @ls rc_rx.0

mod - servo pwm1 @ls sig1.0
mod - servo pwm2 @ls sig2.0
mod - servo pwm3 @ls sig3.0
