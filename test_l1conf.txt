# Debug output

per uart_st uart3 pin_d08 pin_none dma_1_3 dma_none
mod - stdout uart_st

# Management

per usb usb_vcp
mod - nfcp usb

per sdcard_cs gpio_a15 pin_a15
per sdcard_spi spi1 pin_a05 pin_a07 pin_a06 dma_none dma_none

per spi_test_cs gpio_a04 pin_a04
per spi_test spi1 pin_b03 pin_b05 pin_b04 dma_none dma_none

mod - sdcard sdcard_spi sdcard_cs

# Schedulers

sch gyro 4
sch pid 3

mod - sch_decim gyro pid 2 4000

# Motion

per motion_cs gpio_d04 pin_d04
per motion_int gpio_c00 pin_c00
per motion_spi spi2 pin_d03 pin_c03 pin_c02 dma_none dma_none
mod motion motion_mpu6500 motion_spi motion_cs motion_int gyro

# IO definitions

per uart_fport uart2 pin_none pin_d06 dma_none dma_1_5

per pwm1 tim2_ch1 pin_a00 dma_none
per pwm2 tim3_ch3 pin_b00 dma_none
per pwm3 tim3_ch4 pin_b01 dma_none

# Connections

mod rc_rx fport uart_fport -

mod sig1 int_f pid rc_rx.0
mod sig2 mul_f pid rc_rx.1 rc_rx.2 
mod sig3 neg_f pid rc_rx.0

mod - servo pwm1 gyro motion.3
mod - servo pwm2 gyro motion.4
mod - servo pwm3 gyro motion.5
